<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>UserApplication.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">BankingApplication</a> &gt; <a href="index.source.html" class="el_package">com.revature.JdbcBank</a> &gt; <span class="el_source">UserApplication.java</span></div><h1>UserApplication.java</h1><pre class="source lang-java linenums">package com.revature.JdbcBank;

import java.util.List;
import java.util.NoSuchElementException;
import java.util.Scanner;
import java.io.*;
import java.util.Properties;
import com.revature.JdbcBank.Account;
import com.revature.bankservices.JdbcServices;
import com.revature.JdbcBank.User;

<span class="nc" id="L12">public class UserApplication {</span>
	
<span class="nc" id="L14">	public static Scanner scanner = new Scanner(System.in); // Create a Scanner object</span>

	@SuppressWarnings(&quot;unused&quot;)
	public static void main(String[] args) throws Exception {
<span class="nc" id="L18">		JdbcServices jdbcService = JdbcServices.getService();</span>
<span class="nc" id="L19">		List&lt;User&gt; users = null;</span>

<span class="nc" id="L21">		System.out.println(&quot;Welcome to JDBC Bank&quot;);</span>

		String username;
		String userPassword;
<span class="nc" id="L25">		int choice = 0;</span>
		
		
<span class="nc bnc" id="L28" title="All 2 branches missed.">		while (choice != 3) {</span>
<span class="nc" id="L29">			System.out.println(&quot;Enter '1' for sign in&quot;);</span>
<span class="nc" id="L30">			System.out.println(&quot;Enter '2' to create new user&quot;);</span>
<span class="nc" id="L31">			System.out.println(&quot;Enter '3' to Exit&quot;);</span>
<span class="nc" id="L32">			System.out.print(&quot;Enter Choice: &quot;);</span>
<span class="nc" id="L33">			choice = scanner.nextInt();</span>
<span class="nc bnc" id="L34" title="All 2 branches missed.">			if (choice == 1) {		</span>
<span class="nc" id="L35">				Scanner usrname = new Scanner(System.in);</span>
<span class="nc" id="L36">				Scanner pass = new Scanner(System.in);</span>
<span class="nc" id="L37">				System.out.print(&quot;Enter your username: &quot;);</span>
<span class="nc" id="L38">				username = usrname.nextLine(); 						// Read user input</span>
<span class="nc" id="L39">				System.out.print(&quot;Enter password: &quot;);</span>
<span class="nc" id="L40">				userPassword = pass.nextLine();</span>
				
<span class="nc" id="L42">				Properties props = new Properties();</span>
<span class="nc" id="L43">				FileReader fr = new FileReader(&quot;C:\\Users\\Tenzing\\Documents\\JDBCBank\\src\\main\\resources\\connection.properties&quot;);</span>
<span class="nc" id="L44">				props.load(fr);</span>

<span class="nc" id="L46">				String supUser = props.getProperty(&quot;jdbc.username&quot;);</span>
<span class="nc" id="L47">				String suprPass = props.getProperty(&quot;jdbc.password&quot;);</span>
				
<span class="nc" id="L49">				int signInAttempt = 0;</span>
<span class="nc bnc" id="L50" title="All 2 branches missed.">		loop1:	while (signInAttempt &lt;= 4) {</span>
<span class="nc bnc" id="L51" title="All 4 branches missed.">					if (username.equals(supUser) &amp;&amp; userPassword.equals(suprPass))</span>
					{
<span class="nc" id="L53">						int opt1 = 0;</span>
						do {
<span class="nc" id="L55">							System.out.println(&quot;Welcome to JDBC Admin&quot;);</span>
<span class="nc" id="L56">							System.out.println(&quot;1. Create new user&quot;);</span>
<span class="nc" id="L57">							System.out.println(&quot;2. View All Account&quot;);</span>
<span class="nc" id="L58">							System.out.println(&quot;3. Update an Account&quot;);</span>
<span class="nc" id="L59">							System.out.println(&quot;4. Delete an Account&quot;);</span>
<span class="nc" id="L60">							System.out.println(&quot;5. Log out&quot;);</span>
<span class="nc" id="L61">							System.out.print(&quot;Enter choice: &quot;);	</span>
<span class="nc" id="L62">							opt1 = scanner.nextInt();</span>
							
<span class="nc bnc" id="L64" title="All 6 branches missed.">							switch (opt1) {</span>
							case 1:
<span class="nc" id="L66">								User u = jdbcService.createUser().get();</span>
<span class="nc" id="L67">								System.out.println(&quot;The customers user id is: &quot; + u.getUserId());</span>
<span class="nc" id="L68">								System.out.println(&quot;&quot;);</span>
<span class="nc" id="L69">								break;</span>
							case 2:
<span class="nc" id="L71">								users = jdbcService.getAllUsers().get();</span>
<span class="nc" id="L72">								System.out.println(String.format(&quot;%10s %20s %20s %20s %20s&quot;, &quot;User ID&quot;, &quot;Username&quot;, &quot;Password&quot;, &quot;First Name&quot;, &quot;Last Name&quot;));</span>
<span class="nc" id="L73">								System.out.println(&quot;---------------------------------------------------------------------------------------------------------&quot;);</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">								for (User c : users) {</span>
<span class="nc" id="L75">									System.out.println(String.format(&quot;%10s %20s %20s %20s %20s&quot;, c.getUserId(), c.getUsername(), c.getUserPassword(), c.getUserFirstName(), c.getUserLastName()));</span>
								}
<span class="nc" id="L77">								System.out.println(&quot;&quot;);</span>
<span class="nc" id="L78">								break;</span>
							case 3:
<span class="nc" id="L80">								System.out.println(&quot;Enter user id: &quot;);</span>
<span class="nc" id="L81">								int usrsId = scanner.nextInt();</span>
<span class="nc" id="L82">								System.out.println(&quot;&quot;);</span>
<span class="nc" id="L83">								jdbcService.updateUser(usrsId);</span>
<span class="nc" id="L84">								System.out.println(&quot;Updated User!&quot;);</span>
<span class="nc" id="L85">								break;</span>
							case 4:
<span class="nc" id="L87">								System.out.println(&quot;Enter user id: &quot;);</span>
<span class="nc" id="L88">								int usId = scanner.nextInt();</span>
<span class="nc" id="L89">								jdbcService.deleteUser(usId);</span>
<span class="nc" id="L90">								System.out.println(&quot;Deleted User!&quot;);</span>
<span class="nc" id="L91">								break;</span>
							case 5:
<span class="nc" id="L93">								break loop1;</span>
							}
<span class="nc bnc" id="L95" title="All 2 branches missed.">						}while (opt1 != 5);	</span>
<span class="nc" id="L96">					}</span>
					else {
<span class="nc" id="L98">						int cho1 = 0;</span>
<span class="nc bnc" id="L99" title="All 2 branches missed.">				loop2:	while (cho1 != 6) {	</span>
<span class="nc" id="L100">							System.out.println(&quot;&quot;);</span>
							try {
<span class="nc" id="L102">								User u = jdbcService.checkUserExist(username, userPassword).get();</span>
<span class="nc" id="L103">								System.out.println(&quot;1. Create an account&quot;);</span>
<span class="nc" id="L104">								System.out.println(&quot;2. View Accounts&quot;);</span>
<span class="nc" id="L105">								System.out.println(&quot;3. Deposit&quot;);</span>
<span class="nc" id="L106">								System.out.println(&quot;4. Withdraw&quot;);</span>
<span class="nc" id="L107">								System.out.println(&quot;5. View all Transactions&quot;);</span>
<span class="nc" id="L108">								System.out.println(&quot;6. Log out&quot;);</span>
<span class="nc" id="L109">								System.out.print(&quot;Enter your choice: &quot;);</span>
<span class="nc" id="L110">								cho1 = scanner.nextInt();</span>
							
<span class="nc bnc" id="L112" title="All 2 branches missed.">								if (cho1 == 1) {</span>
<span class="nc" id="L113">									Account a = jdbcService.createAccount(u.getUserId()).get();</span>
<span class="nc" id="L114">									System.out.print(&quot;User Created Account Id: &quot; + a.getBankAccountId());</span>
<span class="nc" id="L115">								}</span>
							
<span class="nc bnc" id="L117" title="All 2 branches missed.">								else if (cho1 ==  2) {</span>
<span class="nc" id="L118">									List&lt;Account&gt; accnts = null;</span>
<span class="nc" id="L119">									System.out.print(&quot;Enter user id: &quot;);</span>
<span class="nc" id="L120">									int usrId = scanner.nextInt();		</span>
								
<span class="nc" id="L122">									accnts = jdbcService.viewAccount(usrId).get();</span>
<span class="nc" id="L123">									System.out.println(String.format(&quot;%10s %20s %20s&quot;, &quot;User ID&quot;, &quot;Bank Account Id&quot;, &quot;Balance&quot;));</span>
<span class="nc" id="L124">									System.out.println(&quot;----------------------------------------------------------------------&quot;);</span>
<span class="nc bnc" id="L125" title="All 2 branches missed.">									for (Account c: accnts) {</span>
<span class="nc" id="L126">										System.out.println(String.format(&quot;%10s %20s %20s&quot;, usrId, c.getBankAccountId(), c.getBalance()));</span>
									}
<span class="nc" id="L128">								}</span>
							
<span class="nc bnc" id="L130" title="All 2 branches missed.">								else if (cho1 == 3) {</span>
<span class="nc" id="L131">									System.out.print(&quot;Enter Bank Account Id: &quot;);</span>
<span class="nc" id="L132">									int bankAccntId = scanner.nextInt();</span>
<span class="nc" id="L133">									System.out.print(&quot;Enter Amount: &quot;);</span>
<span class="nc" id="L134">									double amt = scanner.nextDouble();</span>
<span class="nc" id="L135">									List&lt;Transaction&gt; trans = null;</span>
<span class="nc" id="L136">									trans = jdbcService.transactionDeposit(bankAccntId, amt).get();</span>
<span class="nc" id="L137">									System.out.println(String.format(&quot;%10s %30s %30s&quot;, &quot;Transaction ID&quot;, &quot;Bank Account Id&quot;, &quot;Transaction Time&quot;));</span>
<span class="nc" id="L138">									System.out.println(&quot;----------------------------------------------------------------------&quot;);</span>
<span class="nc bnc" id="L139" title="All 2 branches missed.">									for (Transaction t: trans) {</span>
<span class="nc" id="L140">										System.out.println(String.format(&quot;%10s %30s %30s&quot;, t.getTransactionId(), t.getBankAccountId(), t.getTransactionTime()));</span>
									}
<span class="nc" id="L142">								}</span>

<span class="nc bnc" id="L144" title="All 2 branches missed.">								else if (cho1 == 4) {</span>
<span class="nc" id="L145">									List&lt;Transaction&gt; acct = null;</span>
<span class="nc" id="L146">									System.out.print(&quot;Enter Bank Account Id: &quot;);</span>
<span class="nc" id="L147">									int bankAccntId = scanner.nextInt();</span>
<span class="nc" id="L148">									System.out.print(&quot;Enter Amount: &quot;);</span>
<span class="nc" id="L149">									double amt = scanner.nextDouble();</span>
								
<span class="nc" id="L151">									acct = jdbcService.transactionWithdraw(bankAccntId, amt).get();</span>
								
<span class="nc" id="L153">									System.out.println(String.format(&quot;%10s %20s %20s&quot;, &quot;User ID&quot;, &quot;Bank Account Id&quot;, &quot;Balance&quot;));</span>
<span class="nc" id="L154">									System.out.println(&quot;----------------------------------------------------------------------&quot;);</span>
<span class="nc bnc" id="L155" title="All 2 branches missed.">									for (Transaction c: acct) { </span>
<span class="nc" id="L156">										System.out.println(String.format(&quot;%10s %20s %20s&quot;, c.getTransactionId(), c.getTransactionAmt()));</span>
									}
<span class="nc" id="L158">								}</span>
							
<span class="nc bnc" id="L160" title="All 2 branches missed.">								else if (cho1 == 5) {</span>
<span class="nc" id="L161">									List&lt;Transaction&gt; accnts = null;</span>
<span class="nc" id="L162">									System.out.print(&quot;Enter Bank Account Id: &quot;);</span>
<span class="nc" id="L163">									int bankAccId = scanner.nextInt();</span>
<span class="nc" id="L164">									accnts = jdbcService.viewTransactions(bankAccId).get();</span>
<span class="nc" id="L165">									System.out.println(String.format(&quot;%10s %15s %15s %15s %20s&quot;, &quot;Transaction ID&quot;, &quot;Account Id&quot;, &quot;Transaction&quot;, &quot;Amount&quot;, &quot;Time&quot;));</span>
<span class="nc" id="L166">								 	System.out.println(&quot;----------------------------------------------------------------------------------------------------------&quot;);</span>
<span class="nc bnc" id="L167" title="All 2 branches missed.">								 	for (Transaction c: accnts) {</span>
<span class="nc" id="L168">								 		System.out.println(String.format(&quot;%10s %15s %15s %20s %30s&quot;, c.getTransactionId(), c.getBankAccountId(), c.getTransactionType(), c.getTransactionAmt(), c.getTransactionTime()));</span>
								 	}
<span class="nc" id="L170">								}</span>
								
<span class="nc bnc" id="L172" title="All 2 branches missed.">								else if (cho1 == 6) {</span>
<span class="nc" id="L173">									break loop1;</span>
								}
							}
<span class="nc" id="L176">							catch(NoSuchElementException e) {</span>
<span class="nc" id="L177">								System.out.println(&quot;Invalid entry.&quot;);</span>
<span class="nc" id="L178">								break loop1;</span>
							}
							continue;
						}
					}
				}
<span class="nc" id="L184">			}</span>
			
<span class="nc bnc" id="L186" title="All 2 branches missed.">			else if (choice == 2) {</span>
<span class="nc" id="L187">				User b = jdbcService.createUser().get();</span>
<span class="nc" id="L188">				System.out.println(String.format(&quot;%10s %15s %15s %15s %15s&quot;, &quot;User Id&quot;, &quot;Firstname&quot;, &quot;Lastname&quot;, &quot;Username&quot;, &quot;Password&quot;));</span>
<span class="nc" id="L189">				System.out.println(&quot;----------------------------------------------------------------------------------------------------------&quot;);</span>
<span class="nc" id="L190">				System.out.println(String.format(&quot;%10s %15s %15s %15s %15s&quot;, b.getUserId(), b.getUserFirstName(),b.getUserLastName(),b.getUsername(),b.getUserPassword()));</span>
<span class="nc" id="L191">			}</span>
<span class="nc bnc" id="L192" title="All 2 branches missed.">			else if (choice == 3){</span>
<span class="nc" id="L193">				System.out.println(&quot;Thank you for visiting JDBC Bank!&quot;);</span>
<span class="nc" id="L194">			}</span>
			else {
<span class="nc" id="L196">				System.out.println(&quot;Invalid. Try again.&quot;);</span>
				continue;
			}
		}
<span class="nc" id="L200">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>